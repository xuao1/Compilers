### 问题2-1

+ `-nostdinc`，它使编译器不在系统缺省的头文件目录里面找头文件，一般和 `-I` 联合使用，明确限定头文件的位置。在编译驱动模块时，由于非凡的需求必须强制 GCC 不搜索系统默认路径，也就是不搜索 `/usr/include` 要用参数 `-nostdinc`，还要自己用 `-I `参数来指定内核头文件路径

+ 先搜索当前目录

  然后搜索`-I`指定的目录

  然后找  gcc 的环境变量 C_INCLUDE_PATH，CPLUS_INCLUDE_PATH，OBJC_INCLUDE_PATH

  再找内定目录：

  >  /usr/lib/gcc/x86_64-linux-gnu/5/include
  >  /usr/local/include
  >  /usr/lib/gcc/x86_64-linux-gnu/5/include-fixed
  >  /usr/include/x86_64-linux-gnu
  >  /usr/include

+ 使用如下命令：`gcc -E -nostdinc -I/usr/include -I/usr/lib/gcc/x86_64-linux-gnu/5/include sample-io.c -o sample-io.i`

  原因：由上面的分析可知，加了 `-nosrdinc` 选项后，编译器将不在系统缺省的头文件目录里找头文件，而源代码中包含 `stdio.h` 头文件，这个头文件位于 `/usr/include`，还包含 `stddef.h`，这个头文件位于 `/usr/lib/gcc/x86_64-linux-gnu/5/include`

### 问题2-2

+ `-nostdlib` 作用： 不连接系统标准启动文件和标准库文件，只把指定的文件传递给连接器。

+ > LIBRARY_PATH=/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/5/../../../x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/5/../../../../lib/:/lib/x86_64-linux-gnu/:/lib/../lib/:/usr/lib/x86_64-linux-gnu/:/usr/lib/../lib/:/opt/llvm10/antlr4-cpp/dist/:/opt/llvm10/antlr4-cpp/dist/:./:/usr/lib/gcc/x86_64-linux-gnu/5/../../../:/lib/:/usr/lib/

+ 根据第一关的描述，需要加上：`/usr/lib/x86_64-linux-gnu/crt1.o /usr/lib/x86_64-linux-gnu/crti.o` ，以及 `-lc` 选项，链接上运行时所需要的 C 库。

  即：`gcc -nostdlib sample-io.c /usr/lib/x86_64-linux-gnu/crt1.o /usr/lib/x86_64-linux-gnu/crti.o /usr/lib/x86_64-linux-gnu/crtn.o -lc -o sample-io`

